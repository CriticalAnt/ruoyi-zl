<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.system.mapper.SysSlaveMapper">

    <sql id="selectSlaves">
        SELECT
        id AS "id",
        dev_id AS "devId",
        slave_num AS "slaveNum",
        slave_name AS "slaveName",
        temp_id AS "tempId"
        FROM zl_device_slave
    </sql>

    <insert id="insert" parameterType="SysSlave">
        INSERT INTO zl_device_slave
        (
        dev_id,
        slave_num,
        slave_name,
        temp_id
        )
        VALUES (
        #{devId},
        #{slaveNum},
        #{slaveName},
        #{tempId}
        )
    </insert>

    <select id="selectByDevId" parameterType="Long" resultType="SysSlave">
        <include refid="selectSlaves"/>
        WHERE dev_id = #{devId} AND del_flag = 0
    </select>
</mapper>